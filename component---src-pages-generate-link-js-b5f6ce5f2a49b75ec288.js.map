{"version":3,"sources":["webpack:///./src/components/GenerateLink/index.js","webpack:///./src/components/GenerateLink/styles.js","webpack:///./src/pages/generate-link.js","webpack:///./src/hooks/useGuestData.js"],"names":["GenerateLink","type","setType","useState","name","setName","showResult","setShowResult","successCopy","setSuccessCopy","isInvitation","setIsInvitation","data","loading","useGuestData","URL","encodeURIComponent","handleSetName","e","target","value","handleCopy","async","text","showAlert","navigator","clipboard","writeText","alert","err","___EmotionJSX","className","style","textAlign","Fragment","class","for","onChange","parseInt","placeholder","onClick","checked","role","marginTop","href","rel","color","textDecoration","marginLeft","map","d","index","offlineInvitation","code","mapURL","desc","fontSize","padding","styWrapper","styles","GenerateLinkWrapper","MainLayout","css","setLoading","setData","handleFetch","offlineGuestData","console","error","useEffect","refetch"],"mappings":"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","file":"component---src-pages-generate-link-js-b5f6ce5f2a49b75ec288.js","sourcesContent":["import React, { useState, Fragment } from 'react';\r\nimport useGuestData from '@/hooks/useGuestData';\r\n\r\nconst PERSONAL = 1;\r\nconst ALL = 2;\r\n\r\nfunction GenerateLink() {\r\n  const [type, setType] = useState(PERSONAL);\r\n  const [name, setName] = useState();\r\n  const [showResult, setShowResult] = useState(false);\r\n  const [successCopy, setSuccessCopy] = useState(false);\r\n  const [isInvitation, setIsInvitation] = useState(false);\r\n\r\n  const { data, loading } = useGuestData();\r\n\r\n  const URL = `https://thekusuma.com?to=${encodeURIComponent(name)}`;\r\n\r\n  const handleChange = (e) => {\r\n    setType(parseInt(e.target.value, 10));\r\n    setShowResult(false);\r\n  };\r\n\r\n  const handleSetName = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const handleCopy = async (text, showAlert = false) => {\r\n    try {\r\n      await navigator.clipboard.writeText(text);\r\n      setSuccessCopy(true);\r\n      showAlert && alert('Berhasil');\r\n    } catch (err) {\r\n      setSuccessCopy(false);\r\n      alert('Failed to copy! :(');\r\n    }\r\n  };\r\n\r\n  const renderContentType = () => {\r\n    if (type === PERSONAL) {\r\n      return (\r\n        <Fragment>\r\n          <div class=\"form-group\">\r\n            <label for=\"exampleInputEmail1\">Nama Tamu</label>\r\n            <input\r\n              value={name}\r\n              onChange={handleSetName}\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Nama tamu..\"\r\n            ></input>\r\n          </div>\r\n          <button type=\"submit\" class=\"btn btn-primary\" onClick={() => setShowResult(true)}>\r\n            Generate Link\r\n          </button>\r\n        </Fragment>\r\n      );\r\n    }\r\n\r\n    if (type === ALL) {\r\n      return (\r\n        <Fragment>\r\n          <div class=\"checkbox\">\r\n            <label>\r\n              <input type=\"checkbox\" checked={isInvitation} onClick={() => setIsInvitation(!isInvitation)} /> Tipe\r\n              Invitation (Datang offline)\r\n            </label>\r\n          </div>\r\n          <button type=\"submit\" class=\"btn btn-primary\" onClick={() => setShowResult(true)}>\r\n            Generate Link\r\n          </button>\r\n        </Fragment>\r\n      );\r\n    }\r\n  };\r\n\r\n  const renderResult = () => {\r\n    if (!showResult) return null;\r\n\r\n    if (type === PERSONAL) {\r\n      return (\r\n        <div className=\"col-md-4 col-md-offset-4\">\r\n          <div class=\"alert alert-success\" role=\"alert\" style={{ marginTop: '20px' }}>\r\n            <strong>Berhasil!</strong> <br />\r\n            <a href={URL} target=\"_blank\" rel=\"noreferrer\" style={{ color: 'green', textDecoration: 'underline' }}>\r\n              {URL}\r\n            </a>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-default btn-xs\"\r\n              style={{ marginLeft: '8px' }}\r\n              onClick={() => handleCopy(URL)}\r\n            >\r\n              {successCopy ? 'Tersalin' : 'Salin'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (type === ALL) {\r\n      return (\r\n        <div className=\"col-md-10 col-md-offset-1\" style={{ marginTop: '28px' }}>\r\n          <div class=\"table-responsive\">\r\n            <table class=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>No</th>\r\n                  <th>Nama</th>\r\n                  <th>Keterangan</th>\r\n                  <th>Link</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {data.map((d, index) => {\r\n                  const offlineInvitation = isInvitation ? `&type=invitation&code=${d.code}` : '';\r\n                  const mapURL = `https://thekusuma.com?to=${encodeURIComponent(d.name)}${offlineInvitation}`;\r\n                  return (\r\n                    <tr>\r\n                      <td>{index + 1}</td>\r\n                      <td>{d.name}</td>\r\n                      <td>{d.desc}</td>\r\n                      <td>\r\n                        <a href={mapURL} target=\"_blank\" rel=\"noreferrer\" style={{ textDecoration: 'underline' }}>\r\n                          {mapURL}\r\n                        </a>\r\n                        <button\r\n                          className=\"btn btn-default btn-sm\"\r\n                          style={{ fontSize: '12px', padding: '4px 8px', marginLeft: '4px' }}\r\n                          onClick={() => handleCopy(mapURL, true)}\r\n                        >\r\n                          copy\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"title\">Generator of Link Invitation</h2>\r\n      <h3 className=\"title__sub\">Bàng & Quỳnh Wedding</h3>\r\n\r\n      {loading && <h4 style={{ textAlign: 'center' }}>Memuat data..</h4>}\r\n\r\n      {!loading && (\r\n        <Fragment>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-4 col-md-offset-4\">\r\n              <div class=\"form-group\">\r\n                <label for=\"exampleInputEmail1\">Tipe Link</label>\r\n                <select class=\"form-control\" value={type} onChange={handleChange}>\r\n                  <option value={PERSONAL}>Individu</option>\r\n                  <option value={ALL}>Semua Undangan</option>\r\n                </select>\r\n              </div>\r\n              {renderContentType()}\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">{renderResult()}</div>\r\n        </Fragment>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GenerateLink;\r\n","import { css } from '@emotion/core';\r\n\r\nexport const styWrapper = css`\r\n  padding: 24px 8px 8px 8px;\r\n\r\n  .title {\r\n    text-align: center;\r\n  }\r\n\r\n  .title__sub {\r\n    text-align: center;\r\n    font-family: 'UVN Chinh Luan', cursive;\r\n    font-size: 3em;\r\n  }\r\n`;\r\n","import React from 'react';\r\n\r\nimport MainLayout from '@components/Layout';\r\nimport GenerateLink from '@components/GenerateLink';\r\nimport { styWrapper } from '@components/GenerateLink/styles';\r\n\r\nfunction GenerateLinkWrapper() {\r\n  return (\r\n    <MainLayout>\r\n      <div css={styWrapper}>{<GenerateLink />}</div>\r\n    </MainLayout>\r\n  );\r\n}\r\n\r\nexport default GenerateLinkWrapper;\r\n","import { useState, useEffect } from 'react';\r\nimport offlineGuestData from '../../api/guest-data.json';\r\n\r\nfunction useGuestData() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [data, setData] = useState([]);\r\n\r\n  const handleFetch = async () => {\r\n    setLoading(true);\r\n\r\n    try {\r\n      setData(offlineGuestData || []);\r\n      setLoading(false);\r\n    } catch {\r\n      console.error('ERR_WHEN_HIT_DATA');\r\n      setData([]);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleFetch();\r\n  }, []);\r\n\r\n  return { data, loading, refetch: handleFetch };\r\n}\r\n\r\nexport default useGuestData;\r\n"],"sourceRoot":""}